#!/bin/bash
win=0
mail=0
cody=0
mail_content="From: Alice\nDate: 1 July 2021 at 20:26\nMessage-ID: 0\nSubject: My love\nTo: Bob\nContent:\nYou know that I really love encryption. So I want to share with you some knowledge of \"SHA-1\".\n> All major web browser vendors ceased acceptance of SHA-1 SSL certificates in 2017.[10][11][12] In February 2017, CWI Amsterdam and Google announced they had performed a collision attack against SHA-1, publishing two dissimilar PDF files which produced the same SHA-1 hash.[13][2] But SHA-1 is still secure for HMAC.[14]\nMicrosoft has discontinued SHA-1 code signing support for Windows Update on August 7, 2020. \nI read the paragraph on http://wikipedia.org\nEven the \"git commit\" is generated by SHA-1. Although the SHA-1 collision has been found by Google, I still like this encryption method.\nBy the way, SHA-1, in fact, cannot be reversed, so I don't know how can you read this mail.\n(The \"CKEFGISC{Don+_7e11_0+her_Your_Key_L;ke_7h;s}\" is just the salt, not any key.)\nBut if you read this, will you marry me?"

if [[ $(git branch | grep "\* main") == "" ]];then
	echo "please use this checker in branch main"
	exit
fi

[[ $(grep 'CKEFGISC{7he_&peci@1_F!1e_With_M@g!c_P0wer}' ./FILE 2> /dev/null) ]] && win=1
[[ $(grep "will you marry me?" Alice_mail 2> /dev/null) ]] && mail=1
[[ $(grep "CKEFGISC{Happy_Birthday_My_Little_Cody_<3}" David_schedule 2> /dev/null) ]] && cody=1

cnt=$(($win+$mail+$cody))
echo "If you think you finished your work, please come here to check!"
echo "It seems that your progress is "$cnt"/3 !"

if [[ $cnt == 3 ]];then
	echo "Congradulations!! You completed this git test!!"
fi
